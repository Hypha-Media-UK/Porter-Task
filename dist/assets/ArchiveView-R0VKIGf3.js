import{u as f,b as u,_ as y}from"./index-D51oTREZ.js";import{T as D}from"./TabNavigation-S16gUZfi.js";import{a as S,c as x,b as n,e,h as B,x as l,F as p,B as v,i as C,o as i,t as a,n as T}from"./vendor-DszYqHt7.js";const b={class:"archive-view"},L={key:0,class:"loading-state"},N={key:1,class:"empty-state"},V={key:2,class:"shift-list"},A={class:"month-header"},j=["onClick"],E={class:"shift-date"},F={class:"date"},G={class:"shift-info"},z={class:"supervisor"},I={class:"time"},M={class:"shift-tasks-count"},O={class:"count"},Y={class:"label"},$=S({__name:"ArchiveView",setup(q){const c=C("navigate"),_=f(),{archivedShifts:d,isLoading:m}=_,g=o=>o.toLocaleDateString("en-GB",{weekday:"short",day:"numeric"}),w=x(()=>{const o={};return d.forEach(t=>{const r=new Date(t.date).toLocaleDateString("en-GB",{month:"long",year:"numeric"});o[r]||(o[r]=[]),o[r].push(t)}),o}),k=o=>{c&&c("shiftDetail",{shiftId:o})};return(o,t)=>(i(),n("main",b,[t[3]||(t[3]=e("header",null,[e("h1",null,"Shift Archive")],-1)),l(m)?(i(),n("section",L,t[0]||(t[0]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading shift history...",-1)]))):l(d).length===0?(i(),n("section",N,t[1]||(t[1]=[e("div",{class:"empty-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})])],-1),e("h3",null,"No Archived Shifts",-1),e("p",null,"There are no completed shifts in the archive yet.",-1)]))):(i(),n("section",V,[(i(!0),n(p,null,v(w.value,(h,r)=>(i(),n("div",{key:r,class:"month-group"},[e("h2",A,a(r),1),(i(!0),n(p,null,v(h,s=>(i(),n("article",{key:s.id,class:"shift-item",onClick:H=>k(s.id)},[e("div",E,[e("span",F,a(g(new Date(s.date))),1),e("span",{class:T(["type",s.type.toLowerCase()])},a(s.type),3)]),e("div",G,[e("div",z,a(s.supervisor),1),e("div",I,a(l(u)(new Date(s.startTime)))+" - "+a(s.endTime?l(u)(new Date(s.endTime)):"Ongoing"),1)]),e("div",M,[e("span",O,a(s.tasks.length),1),e("span",Y,a(s.tasks.length===1?"task":"tasks"),1)]),t[2]||(t[2]=e("div",{class:"chevron"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1))],8,j))),128))]))),128))])),B(D,{"current-route":"archive",onNavigate:l(c)},null,8,["onNavigate"])]))}}),Q=y($,[["__scopeId","data-v-72bb658f"]]);export{Q as default};
