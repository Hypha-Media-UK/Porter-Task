import{u as f,f as u,_ as y}from"./index-DNYSQN-_.js";import{a as D,c as S,b as n,e,D as l,F as p,C as v,i as x,o as i,t as a,n as C}from"./vendor-d6AZ6u8N.js";const B={class:"archive-view"},L={key:0,class:"loading-state"},T={key:1,class:"empty-state"},A={key:2,class:"shift-list"},V={class:"month-header"},j=["onClick"],b={class:"shift-date"},E={class:"date"},F={class:"shift-info"},G={class:"supervisor"},N={class:"time"},z={class:"shift-tasks-count"},I={class:"count"},M={class:"label"},O=D({__name:"ArchiveView",setup(Y){const c=x("navigate"),_=f(),{archivedShifts:d,isLoading:m}=_,g=o=>o.toLocaleDateString("en-GB",{weekday:"short",day:"numeric"}),w=S(()=>{const o={};return d.forEach(t=>{const r=new Date(t.date).toLocaleDateString("en-GB",{month:"long",year:"numeric"});o[r]||(o[r]=[]),o[r].push(t)}),o}),k=o=>{c&&c("shiftDetail",{shiftId:o})};return(o,t)=>(i(),n("main",B,[t[3]||(t[3]=e("header",null,[e("h1",null,"Shift Archive")],-1)),l(m)?(i(),n("section",L,t[0]||(t[0]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading shift history...",-1)]))):l(d).length===0?(i(),n("section",T,t[1]||(t[1]=[e("div",{class:"empty-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})])],-1),e("h3",null,"No Archived Shifts",-1),e("p",null,"There are no completed shifts in the archive yet.",-1)]))):(i(),n("section",A,[(i(!0),n(p,null,v(w.value,(h,r)=>(i(),n("div",{key:r,class:"month-group"},[e("h2",V,a(r),1),(i(!0),n(p,null,v(h,s=>(i(),n("article",{key:s.id,class:"shift-item",onClick:$=>k(s.id)},[e("div",b,[e("span",E,a(g(new Date(s.date))),1),e("span",{class:C(["type",s.type.toLowerCase()])},a(s.type),3)]),e("div",F,[e("div",G,a(s.supervisor),1),e("div",N,a(l(u)(new Date(s.startTime)))+" - "+a(s.endTime?l(u)(new Date(s.endTime)):"Ongoing"),1)]),e("div",z,[e("span",I,a(s.tasks.length),1),e("span",M,a(s.tasks.length===1?"task":"tasks"),1)]),t[2]||(t[2]=e("div",{class:"chevron"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1))],8,j))),128))]))),128))]))]))}}),J=y(O,[["__scopeId","data-v-e64e8166"]]);export{J as default};
