import{b as T,f as w,_ as b}from"./index-DclK01DE.js";import{a as g,c as r,b as i,n as h,e as t,f as l,t as n,D as p,o}from"./vendor-d6AZ6u8N.js";const D={class:"card-header"},y={class:"title-area"},S={class:"card-content"},B={class:"info-grid"},C={class:"info-item"},E={class:"info-value"},$={class:"info-item"},M={class:"info-value"},N={class:"info-item"},O={class:"info-value"},V={key:0,class:"info-item"},z={class:"info-value"},I={class:"task-count"},L={key:0,class:"task-breakdown"},P={key:1,class:"info-item"},U={class:"info-value"},j=g({__name:"ShiftOverview",props:{shift:{},showEndButton:{type:Boolean},variant:{}},emits:["end-shift"],setup(u){const a=u,f=r(()=>{var s;return((s=a.shift.tasks)==null?void 0:s.length)||0}),c=r(()=>{var s;return((s=a.shift.tasks)==null?void 0:s.filter(e=>e.status==="Completed").length)||0}),m=r(()=>{var s;return((s=a.shift.tasks)==null?void 0:s.filter(e=>e.status==="Pending").length)||0}),v=r(()=>{if(!a.shift.startTime||!a.shift.endTime)return"Unknown";const s=new Date(a.shift.startTime),d=new Date(a.shift.endTime).getTime()-s.getTime(),k=Math.floor(d/(1e3*60*60)),_=Math.floor(d%(1e3*60*60)/(1e3*60));return`${k}h ${_}m`});return(s,e)=>(o(),i("div",{class:h(["dashboard-card shift-overview",{"previous-shift":s.variant==="previous"}])},[t("div",D,[t("div",y,[t("h2",{class:h(s.shift.type.toLowerCase()+"-text")},n(s.shift.type)+" Shift",3)]),s.showEndButton?(o(),i("button",{key:0,class:"btn-danger",onClick:e[0]||(e[0]=d=>s.$emit("end-shift"))}," End Shift ")):l("",!0)]),t("div",S,[t("div",B,[t("div",C,[e[1]||(e[1]=t("span",{class:"info-label"},"Date",-1)),t("span",E,n(p(T)(new Date(s.shift.date))),1)]),t("div",$,[e[2]||(e[2]=t("span",{class:"info-label"},"Start Time",-1)),t("span",M,n(p(w)(new Date(s.shift.startTime))),1)]),t("div",N,[e[3]||(e[3]=t("span",{class:"info-label"},"Supervisor",-1)),t("span",O,n(s.shift.supervisor),1)]),s.shift.tasks?(o(),i("div",V,[e[4]||(e[4]=t("span",{class:"info-label"},"Tasks",-1)),t("span",z,[t("span",I,n(f.value),1),f.value>0?(o(),i("span",L," ("+n(c.value)+" completed, "+n(m.value)+" pending) ",1)):l("",!0)])])):l("",!0),s.variant==="previous"&&s.shift.startTime&&s.shift.endTime?(o(),i("div",P,[e[5]||(e[5]=t("span",{class:"info-label"},"Duration",-1)),t("span",U,n(v.value),1)])):l("",!0)])])],2))}}),F=b(j,[["__scopeId","data-v-8a1fec1a"]]);export{F as S};
