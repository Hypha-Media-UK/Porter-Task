import{a as _,r as x,c as S,b as n,e as t,f as v,x as e,n as V,t as r,F as E,B,C as F,E as M,i as N,o,h as D}from"./vendor-DszYqHt7.js";import{u as L,f as j,_ as P}from"./index-DlOD_Yz9.js";import{T as $}from"./TaskCard-Bl-rwOR5.js";const A={class:"tasks-view"},z={key:0,class:"task-summary-card"},H={class:"summary-header"},I={class:"shift-info"},R={class:"shift-date"},Y={class:"task-stats"},q={class:"stat-icon pending"},G={class:"stat-icon completed"},J={key:1,class:"recent-task-section"},K={class:"task-list"},O=["onClick"],Q={key:2,class:"loading-state"},U={key:3,class:"empty-state"},W={class:"modal-content"},X={class:"modal-actions"},Z=_({__name:"TasksView",setup(tt){const a=N("navigate"),d=x(!1),k=L(),{currentShift:i,isLoading:h,pendingTasks:c,completedTasks:m,endShift:p}=k,g=S(()=>c.slice(0,3)),w=()=>{a&&a("taskForm")},u=()=>{a&&a("pendingTasks")},C=()=>{a&&a("completedTasks")},y=f=>{a&&a("taskForm",{taskId:f})},T=()=>{d.value=!0},b=()=>{p(),d.value=!1,a&&a("home")};return(f,s)=>(o(),n("main",A,[s[11]||(s[11]=t("header",{class:"top-header"},[t("h1",null,"Task Management")],-1)),e(i)?(o(),n("section",z,[t("div",H,[t("div",I,[t("div",{class:V(["shift-badge",e(i).type.toLowerCase()])},r(e(i).type)+" Shift ",3),t("div",R,r(e(j)(new Date(e(i).date))),1)]),t("button",{class:"btn-outline btn-small btn-danger",onClick:T}," End Shift ")]),t("div",Y,[t("div",{class:"stat-item",onClick:u},[t("div",q,[t("span",null,r(e(c).length),1)]),s[2]||(s[2]=t("div",{class:"stat-label"},"Pending",-1))]),t("div",{class:"stat-item",onClick:C},[t("div",G,[t("span",null,r(e(m).length),1)]),s[3]||(s[3]=t("div",{class:"stat-label"},"Completed",-1))])])])):v("",!0),e(c).length>0?(o(),n("section",J,[t("div",{class:"section-header"},[s[4]||(s[4]=t("h2",null,"Recent Tasks",-1)),t("button",{class:"view-all-link",onClick:u},"View All")]),t("div",K,[(o(!0),n(E,null,B(g.value,l=>(o(),n("div",{key:l.id,class:"task-item",onClick:st=>y(l.id)},[D($,{task:l,compact:!0},null,8,["task"])],8,O))),128))])])):e(h)&&!e(i)?(o(),n("section",Q,s[5]||(s[5]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading tasks...",-1)]))):e(i)&&e(i).tasks.length===0?(o(),n("section",U,s[6]||(s[6]=[F('<div class="empty-icon" data-v-f21dd029><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-f21dd029><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" data-v-f21dd029></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1" data-v-f21dd029></rect><path d="M12 11v6" data-v-f21dd029></path><path d="M9 18h6" data-v-f21dd029></path></svg></div><h3 data-v-f21dd029>No Tasks Yet</h3><p data-v-f21dd029>Create your first task to get started</p>',3)]))):v("",!0),t("button",{class:"fab",onClick:w,"aria-label":"Create new task"},s[7]||(s[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])),d.value?(o(),n("div",{key:4,class:"modal-backdrop",onClick:s[1]||(s[1]=M(l=>d.value=!1,["self"]))},[t("div",W,[s[8]||(s[8]=t("div",{class:"modal-handle"},null,-1)),s[9]||(s[9]=t("div",{class:"modal-header"},[t("h3",null,"End Shift?")],-1)),s[10]||(s[10]=t("div",{class:"modal-body"},[t("p",null,"Are you sure you want to end the current shift? This action cannot be undone.")],-1)),t("div",X,[t("button",{class:"btn-secondary",onClick:s[0]||(s[0]=l=>d.value=!1)}," Cancel "),t("button",{class:"btn-danger",onClick:b}," End Shift ")])])])):v("",!0)]))}}),ot=P(Z,[["__scopeId","data-v-f21dd029"]]);export{ot as default};
