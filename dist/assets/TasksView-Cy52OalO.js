import{a as x,r as S,c as N,b as n,e as t,f as v,h,x as a,n as V,t as r,F as E,B,C as F,E as M,i as D,o}from"./vendor-DszYqHt7.js";import{u as L,f as j,_ as P}from"./index-D51oTREZ.js";import{T as $}from"./TaskCard-D4ASSXZN.js";import{T as A}from"./TabNavigation-S16gUZfi.js";const z={class:"tasks-view"},H={key:0,class:"task-summary-card"},I={class:"summary-header"},R={class:"shift-info"},Y={class:"shift-date"},q={class:"task-stats"},G={class:"stat-icon pending"},J={class:"stat-icon completed"},K={key:1,class:"recent-task-section"},O={class:"task-list"},Q=["onClick"],U={key:2,class:"loading-state"},W={key:3,class:"empty-state"},X={class:"modal-content"},Z={class:"modal-actions"},tt=x({__name:"TasksView",setup(st){const e=D("navigate"),l=S(!1),m=L(),{currentShift:i,isLoading:f,pendingTasks:c,completedTasks:p,endShift:b}=m,g=N(()=>c.slice(0,3)),w=()=>{e&&e("taskForm")},u=()=>{e&&e("pendingTasks")},C=()=>{e&&e("completedTasks")},y=k=>{e&&e("taskForm",{taskId:k})},T=()=>{l.value=!0},_=()=>{b(),l.value=!1,e&&e("home")};return(k,s)=>(o(),n("main",z,[s[11]||(s[11]=t("header",{class:"top-header"},[t("h1",null,"Task Management")],-1)),a(i)?(o(),n("section",H,[t("div",I,[t("div",R,[t("div",{class:V(["shift-badge",a(i).type.toLowerCase()])},r(a(i).type)+" Shift ",3),t("div",Y,r(a(j)(new Date(a(i).date))),1)]),t("button",{class:"btn-outline btn-small btn-danger",onClick:T}," End Shift ")]),t("div",q,[t("div",{class:"stat-item",onClick:u},[t("div",G,[t("span",null,r(a(c).length),1)]),s[2]||(s[2]=t("div",{class:"stat-label"},"Pending",-1))]),t("div",{class:"stat-item",onClick:C},[t("div",J,[t("span",null,r(a(p).length),1)]),s[3]||(s[3]=t("div",{class:"stat-label"},"Completed",-1))])])])):v("",!0),a(c).length>0?(o(),n("section",K,[t("div",{class:"section-header"},[s[4]||(s[4]=t("h2",null,"Recent Tasks",-1)),t("button",{class:"view-all-link",onClick:u},"View All")]),t("div",O,[(o(!0),n(E,null,B(g.value,d=>(o(),n("div",{key:d.id,class:"task-item",onClick:at=>y(d.id)},[h($,{task:d,compact:!0},null,8,["task"])],8,Q))),128))])])):a(f)&&!a(i)?(o(),n("section",U,s[5]||(s[5]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading tasks...",-1)]))):a(i)&&a(i).tasks.length===0?(o(),n("section",W,s[6]||(s[6]=[F('<div class="empty-icon" data-v-ca4b1b53><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" data-v-ca4b1b53><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" data-v-ca4b1b53></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1" data-v-ca4b1b53></rect><path d="M12 11v6" data-v-ca4b1b53></path><path d="M9 18h6" data-v-ca4b1b53></path></svg></div><h3 data-v-ca4b1b53>No Tasks Yet</h3><p data-v-ca4b1b53>Create your first task to get started</p>',3)]))):v("",!0),t("button",{class:"fab",onClick:w,"aria-label":"Create new task"},s[7]||(s[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])),l.value?(o(),n("div",{key:4,class:"modal-backdrop",onClick:s[1]||(s[1]=M(d=>l.value=!1,["self"]))},[t("div",X,[s[8]||(s[8]=t("div",{class:"modal-handle"},null,-1)),s[9]||(s[9]=t("div",{class:"modal-header"},[t("h3",null,"End Shift?")],-1)),s[10]||(s[10]=t("div",{class:"modal-body"},[t("p",null,"Are you sure you want to end the current shift? This action cannot be undone.")],-1)),t("div",Z,[t("button",{class:"btn-secondary",onClick:s[0]||(s[0]=d=>l.value=!1)}," Cancel "),t("button",{class:"btn-danger",onClick:_}," End Shift ")])])])):v("",!0),h(A,{"current-route":"tasks",onNavigate:a(e)},null,8,["onNavigate"])]))}}),lt=P(tt,[["__scopeId","data-v-ca4b1b53"]]);export{lt as default};
